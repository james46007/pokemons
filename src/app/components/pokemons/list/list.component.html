<h1>Listado de Pokemon</h1>

<div class="search">
  <form class="input-group" (ngSubmit)="getFilterPokemon()">
    <input
      type="text"
      class="form-control"
      placeholder="Buscar"
      aria-label="Recipient's username"
      aria-describedby="basic-addon2"
      [(ngModel)]="count"
      name="characterName"
    />
    <div class="error" *ngIf="error">Solo se aceptan n√∫meros</div>
  </form>
</div>

<!-- open a modal window by clicking button  basic bootstrap-->
<button id="myBtn" type="button" class="btn btn-info btn-lg" (click)="openModal('create')">Nuevo</button>

<div class="backdrop" [ngStyle]="{'display':display}"></div>
<div class="modal" tabindex="-1" role="dialog"  [ngStyle]="{'display':display}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" aria-label="Close" (click)="onCloseHandled()"><span aria-hidden="true">&times;</span></button>
        <h2 class="modal-title">{{title}}</h2>
      </div>
      <div class="modal-body">
        <div id="contenedor">
          <div>
            <label>
              Nombre:
              <input type="text" name="name" [(ngModel)]="pokemon.name"/>
            </label>
            <br>
            <br>
            <label>
              Imagen:
              <input type="text" name="image" placeholder="url" [(ngModel)]="pokemon.image"/>
            </label>
          </div>
          <div>
            <label>
              Ataque: 0
              <input type="range" class="range" [(ngModel)]="pokemon.attack" min="0" max="100" />
              100
            </label>
            <br>
            <br>
            <label>
              Defensa: 0
              <input type="range" class="range" [(ngModel)]="pokemon.defense" min="0" max="100" />
              100
            </label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" (click)="savePokemon(pokemon.id)" >Guardar</button>
        <button type="button" class="btn btn-default" (click)="onCloseHandled()" >Cancelar</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal !-->

<table id="pokemons">
  <thead>
  <th>Nombre</th>
  <th>Imagen</th>
  <th>Ataque</th>
  <th>Defensa</th>
  <th>Acciones</th>
  </thead>
  <tbody>
  <tr *ngFor="let pokemon of pokemons">
    <td>{{pokemon.name}}</td>
    <td style="text-align: center;">
      <img
        [src]="pokemon.image"
        [alt]="pokemon.name"
        [width]="100"
        [height]="100"
      />
    </td>
    <td>{{pokemon.attack}}</td>
    <td>{{pokemon.defense}}</td>
    <td style="text-align: center;">
      <button (click)="getPokemon(pokemon.id)"><img src="assets/actualizar.png" width="50px"></button>
      <button (click)="deletePokemon(pokemon.id)" ><img src="assets/basurero.png" width="50px"></button>
    </td>
  </tr>
  </tbody>
</table>
